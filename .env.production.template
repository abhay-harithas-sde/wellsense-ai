# WellSense AI - Production Environment Configuration Template
# 
# IMPORTANT: This is a template file with placeholder values.
# DO NOT use these values in production!
# 
# Steps to configure production:
# 1. Copy this file to .env.production
# 2. Generate strong secrets: node scripts/generate-secrets.js
# 3. Replace all placeholder values with real production values
# 4. Never commit .env.production to version control

# ============================================================================
# ENVIRONMENT
# ============================================================================

# Must be set to 'production' for production deployment
NODE_ENV=production

# Server port (default: 3000)
PORT=3000

# ============================================================================
# CORS CONFIGURATION
# ============================================================================

# CRITICAL: Set to your production domain(s), comma-separated
# DO NOT use wildcard (*) in production!
# Example: https://app.yourdomain.com,https://www.yourdomain.com
CORS_ORIGIN=REPLACE_WITH_YOUR_PRODUCTION_DOMAINS

# ============================================================================
# HTTPS/SSL CONFIGURATION
# ============================================================================

# Enable HTTPS for production (recommended)
ENABLE_HTTPS=true

# HTTPS port (default: 443)
HTTPS_PORT=443

# HTTP port for redirect (default: 80)
HTTP_PORT=80

# SSL certificate paths
# Generate certificates using Let's Encrypt or your certificate provider
# See docs/SSL_SETUP.md for detailed instructions
SSL_KEY_PATH=./ssl/private.key
SSL_CERT_PATH=./ssl/certificate.crt

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================

# PostgreSQL Database (Primary)
# CRITICAL: Replace with strong password (minimum 32 characters)
# Generate using: node scripts/generate-secrets.js --type database
DATABASE_URL="postgresql://postgres:REPLACE_WITH_STRONG_DATABASE_PASSWORD@your-db-host:5432/wellsense_ai"

# MongoDB Database (Document Store)
# CRITICAL: Replace with strong password (minimum 32 characters)
MONGODB_URI="mongodb://admin:REPLACE_WITH_STRONG_DATABASE_PASSWORD@your-mongo-host:27017/wellsense_ai?authSource=admin"

# Redis (Cache & Sessions)
# Update with your Redis host
REDIS_URL="redis://your-redis-host:6379"

# ============================================================================
# JWT CONFIGURATION
# ============================================================================

# CRITICAL: Generate strong JWT secret (minimum 64 characters)
# Generate using: node scripts/generate-secrets.js --type jwt
# NEVER use the default or example values!
JWT_SECRET=REPLACE_WITH_STRONG_JWT_SECRET_MIN_64_CHARS

# JWT token expiration (7 days recommended for production)
JWT_EXPIRES_IN=7d

# ============================================================================
# GOOGLE OAUTH (Optional)
# ============================================================================

# Google OAuth credentials from Google Cloud Console
# Leave empty if not using Google authentication
GOOGLE_CLIENT_ID=your-google-client-id-from-console
GOOGLE_CLIENT_SECRET=REPLACE_WITH_GOOGLE_CLIENT_SECRET_MIN_48_CHARS
GOOGLE_CALLBACK_URL=https://your-domain.com/auth/google/callback

# ============================================================================
# MICROSOFT OAUTH (Optional)
# ============================================================================

# Microsoft OAuth credentials from Azure Portal
# Leave empty if not using Microsoft authentication
MICROSOFT_CLIENT_ID=your-microsoft-client-id-from-azure
MICROSOFT_CLIENT_SECRET=REPLACE_WITH_MICROSOFT_CLIENT_SECRET
MICROSOFT_CALLBACK_URL=https://your-domain.com/auth/microsoft/callback

# ============================================================================
# OPENAI CONFIGURATION
# ============================================================================

# OpenAI API key for AI features
# Get from: https://platform.openai.com/api-keys
OPENAI_API_KEY=REPLACE_WITH_YOUR_OPENAI_API_KEY

# OpenAI model configuration
OPENAI_MODEL=gpt-4o-mini
OPENAI_MAX_TOKENS=500
OPENAI_TOTAL_TOKEN_LIMIT=300000

# ============================================================================
# FEATURE FLAGS
# ============================================================================

# Enable AI chat feature
VITE_ENABLE_AI_CHAT=true

# Production mode flag
VITE_PRODUCTION_MODE=true

# ============================================================================
# FIREBASE (Optional)
# ============================================================================

# Firebase configuration for push notifications
# Get from Firebase Console > Project Settings > Service Accounts
# Leave empty if not using Firebase
FIREBASE_PROJECT_ID=your-firebase-project-id
FIREBASE_PRIVATE_KEY="REPLACE_WITH_FIREBASE_PRIVATE_KEY"
FIREBASE_CLIENT_EMAIL=your-service-account@your-project.iam.gserviceaccount.com

# ============================================================================
# PRODUCTION RECOMMENDATIONS
# ============================================================================
#
# Security Best Practices:
# - Generate all secrets using: node scripts/generate-secrets.js
# - Use strong, unique passwords for all databases
# - Enable HTTPS with valid SSL certificates
# - Set CORS_ORIGIN to specific domains only
# - Store secrets in a secure vault (AWS Secrets Manager, HashiCorp Vault)
# - Rotate secrets regularly (every 90-180 days)
# - Never commit .env.production to version control
# - Run security audit before deployment: npm run security:audit
#
# Performance Recommendations:
# - Use connection pooling for databases
# - Enable Redis for caching and sessions
# - Configure rate limiting appropriately
# - Monitor resource usage and scale as needed
#
# Monitoring Recommendations:
# - Set up error tracking (Sentry, Rollbar)
# - Configure log aggregation (CloudWatch, Datadog)
# - Monitor SSL certificate expiration
# - Track API response times and error rates
#
# For detailed setup instructions, see:
# - docs/SECURITY_HARDENING.md
# - docs/MIGRATION_GUIDE.md
# - docs/SSL_SETUP.md
#
# ============================================================================
